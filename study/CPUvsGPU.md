## 왜 딥러닝에서 CPU 가 아닌 GPU 를 주로 사용할까요?
![](/study/CPUvsGPU.png)
#### CPU 와 GPU의 차이

### 1. 코어의 종류와 숫자
**CPU 는 GPU 보다 더 적은 코어를 갖고 있지만 각각의 코어가 GPU 보다 더 강력한 컴퓨팅 파워를 갖고 있습니다.** 
따라서 **CPU 는 순차적인 작업 (Sequential task) 에 더 강점이 있습니다.**
**반면 GPU 는 CPU 보다 코어수는 많지만 각각의 코어가 GPU 보다 더 성능이 낮기 때문에 병렬적인 작업 (Paralell task) 에 더 강점이 있습니다.** 
현재 PC 에서 사용되는 CPU 의 코어는 보통 4~10개 정도이며 hyperthreading 기술을 통해 thread 를 2배 정도 늘릴 수 있습니다. <br/>
예를 들어 8 코어 16 threads CPU 의 경우, 병렬적으로 16개의 task 를 수행할 수 있다는 뜻입니다. 반면, NVIDIA 의 Tital XP GPU 의 경우 3840 코어를 갖고 있습니다. 
또 최근 출시된 2080 TI 의 경우 4,352 개의 코어를 갖고 있습니다. **threading 을 감안하더라도 CPU와 GPU 의 코어 수의 차이는 200 배 이상입니다.** 

### 2. 메모리
CPU 와 GPU 의 중요한 차이 중 하나는 바로 메모리를 어떻게 사용하는지에 관한 것 입니다. CPU 는 캐시 메모리가 있지만 대부분의 시스템과 공유된 메모리를 사용합니다.
**GPU 의 경우 시스템과 메모리를 공유할 수도 있지만, 이 경우 GPU 와 메모리 사이에 Bottleneck phenomenon 이 생기기 때문에 성능이 낮아집니다.**<br/>
따라서 GPU 는 GPU card 내에 자체의 메모리가 존재합니다. 예를 들어 Tital XP GPU 의 경우 12 GB 의 메모리를 갖고 있습니다. 
CPU 의 강점은 여러가지 일 (음악 감상, 영화 감상, 딥러닝, 게임 등)을 할 수 있다는 것과, 순차적인 처리를 빠르게 할 수 있다는 것 입니다.
**반면, GPU 는 여러가지 일을 다 잘하진 못해도 병렬화를 할 수 있다면, 이를 빠르게 처리할 수 있습니다.** 병렬화 가능한 일 중 하나가 바로 행렬 곱 (Matrix multiplication) 입니다.

![병렬화 가능한 행렬곱](/study/matrix_mult.png)
#### 병렬화 가능한 행렬곱
행과 열의 곱을 각각의 GPU 코어에서 처리 후 이를 합친다면 순차적으로 처리하는 것보다 더 빠르게 수행할 수 있을 것 입니다.
GPU 를 이용한 프로그래밍을 하는 방법에는 NVIDIA 의 CUDA 라이브러리를 사용하는 것이 있습니다. CUDA 를 이용하면 C, C++ 등의 언어로 GPU 프로그래밍을 할 수 있습니다.